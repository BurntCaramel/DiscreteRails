<h1>Search Efficiency</h1>

<% if @query.present? %>
  <nav>
    <strong>“<%= @query %>”</strong>
    <%= @step %>
    <%= link_to 'Next', search_efficiency_path(step: @step + 1, q: @query) %>
    <%= link_to 'Restart', search_efficiency_path(q: @query) %>
  <nav>
<% end %>
<nav>
  Search for:
  <%= link_to 'Lemur', search_efficiency_path(q: 'Lemur') %>
  <%= link_to 'Salamander', search_efficiency_path(q: 'Salamander') %>
  <%= link_to 'Hippopotamus', search_efficiency_path(q: 'Hippopotamus') %>
  <%= link_to 'Goat', search_efficiency_path(q: 'Goat') %>
<nav>

<h2>Linear Search — searching an array</h2>

<ul>
<% @items.each_with_index do |item, index| %>
  <li>
    <% checked = index < @step %>
    <% found = checked && (item == @query) %>
    <% current = index+1 == @step %>
    <% class_name = (checked ? (found ? 'positive' : 'negative') : nil) %>
    <%= content_tag (current ? :strong : :span), item, class: class_name %>
    <% if found %>
      <%= pluralize(index, 'step') %>
    <% end %>
  </li>
<% end %>
</ul>

<h2>Binary Search — searching a sorted array</h2>
<ul>
<% @items_sorted.each_with_index do |item, index| %>
  <li>
    <% checked = @binary_search_step_result.include?(index) %>
    <% found = checked && (item == @query) %>
    <% current = @binary_search_step_result.last == index %>
    <% class_name = (checked ? (found ? 'positive' : 'negative') : nil) %>
    <%= content_tag (current ? :strong : :span), item, class: class_name %>
    <% if found %>
      <%= pluralize(@binary_search_step_result.length, 'step') %>
    <% end %>
  </li>
<% end %>
</ul>

<h2>Binary Search Tree — searching a balanced tree</h2>

<%= render 'tree/node', node: @b.root, search_steps: @binary_tree_search_steps %>
